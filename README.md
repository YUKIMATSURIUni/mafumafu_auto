## 概要

ソードワールド2.5の月光の魔符の必要個数を計算するコードです。 
このゲームでは、相手が魔法攻撃を仕掛けてきたとき、「抵抗力判定」を用いて抵抗します。
抵抗力判定は、「相手の魔力」と、「自分の抵抗力」＋「サイコロ2つの目」（以下2d6）を比べ合って判定します。このとき、2d6で2が出れば、必ず判定に敗北し、12が出れば判定に勝利します。
このゲームには抵抗力判定を有利に進める様々なアイテムが存在します。
抵抗力を+1するアイテム「信念のリング」、+2するアイテム「強き信念のリング」、2d6を振った後に、事後的に消費して、抵抗力を+1,+2,+3する「魔符」です。これらはそれぞれ価格が異なります。（注）
プレイヤーは、ゲームの開始時に、予想される敵の魔力と自己の抵抗力との差、予想されるゲームの長さ（判定回数）、そして、アイテムを購入する予算を見比べながら、どのアイテムをどれくらい購入すれば有効なのかを予想します。
このアルゴリズムはそれを自動化するツールです。具体的には、インプットとして、予想される敵の魔力と自己の抵抗力との差、予想ゲームの長さ（判定回数）、そして、アイテムを購入する予算を入力することで、アウトプットとして、それぞれのアイテムをどのように買えば、抵抗判定に勝利する確率を最大化できるのか、また、最大化した抵抗力判定は何パーセントで成功するのかを出力します。

注）
価格体系は以下の通り

信念のリング:5000G
強き信念のリング:30000G
魔符+1:500G
魔符+2:1500G
魔符+3:5000G 

## 使用方法

VSCodeなどを用いてPython3で実行してください。
コードの一番最後の、

シミュレーション実行部分 

例として値を設定 (ここを自由に編集して試してください）
n_input = 6
r_input = 1  # 注意: r=100だと非常に時間がかかります。まずはr=20程度で試してください。
s_input = 0
p_input = 5000 # 予算 (1000から100000)

のinputを変更してください。

nは、キャラクターの抵抗力がそのセッションで要求される水準よりも高いか低いかの項目です。
n=0のとき、7以上を出せば抵抗力判定に勝利できる状態です。n=2であれば、出目5以上、n=-2であれば、出目9以上というふうになります。

rは、そのセッションで予測される抵抗力判定の回数です。コードの都合上、rが20を超えると非常に重たくなります。

sは、カウンターマジックを使用するかどうかのバイナリ数です。1が使用状態、0が非使用状態になります。厳密にはnと分ける必要はありませんが、カンタマの有無を確かめたい用途のために独立させました。

pは予算です。リングおよび魔符に費やす予算を入力してください。可能な限り予算を使い切るような組み合わせが選ばれます。

## 注意点

全ての判定は同質のものとして扱っています。すなわち、セッション中に行う判定はすべて同一の目標値をもち、かつ、どの判定の成功失敗も等しい価値を持つものとしてモデル化しています。
つまり、より抵抗の難しい判定に成功すればより戦術的価値が高い、といった判断は行われていません。



